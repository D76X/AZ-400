https://www.udemy.com/course/practice-exams-az400-microsoft-azure-devops-engineer/
----------------------------------------------------------------
AZ-400 Microsoft Azure DevOps Engineer Exam 1 45 questions
AZ-400 Microsoft Azure DevOps Engineer Exam 2 40 questions
AZ-400 Microsoft Azure DevOps Engineer Exam 3 28 questions
----------------------------------------------------------------

-------------------------------------------------------------------------
PT02-Q0X: 
question text..
Which of the following is the option you would choose?

A0X-1: 
A0X-2: 
A0X-3: 
A0X-4: 

MY ANSWER TO PT02-Q0X
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q0X
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

--------------------------------
Practice Test 2 40 questions
--------------------------------

-----------------------------------------------------------------------
PT02-Q40: repeat question
PT02-Q39: repeat question

-----------------------------------------------------------------------
PT02-Q378

You plan to update the Azure DevOps strategy of your company. 
You need to identify the following issues as they occur during the company's 
development process:

- Licensing violations
- Prohibited libraries

Solution: You implement automated security testing.

Does this meet the goal?

-----------------------------------------------------------------------
PT02-Q37: REFER TO PT02-Q32
https://www.examtopics.com/discussions/microsoft/view/50914-exam-az-400-topic-4-question-30-discussion/
-----------------------------------------------------------------------

-----------------------------------------------------------------------
PT02-Q37:

You administer an Azure DevOps project that includes package feeds.

You need to ensure that developers can unlist and deprecate packages. 
The solution must use the principle of least privilege. 

Which access level should you grant to the developers?

A37-1: A. Collaborator
A37-2: B. Contributor
A37-3: C. Owner
A37-4: 
A37-5: 

MY ANSWER TO PT02-Q37
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q37
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/51044-exam-az-400-topic-4-question-39-discussion/

Suggested Answer: B. Contributor 

Feeds have four levels of access: 
 - Administrators <<
 - Owners 
 - Contributors
 - Collaborators 
 - Readers. 
 
Owners can add any type of identity-individuals, teams, and groups-to any access level

Reference:
https://docs.microsoft.com/en-us/azure/devops/artifacts/feeds/feed-permissions

-----------------------------------------------------------------------
PT02-Q36:

You are designing the security validation strategy for a project in 
Azure DevOps. 

You need to identify package dependencies that have known security issues
and  can be resolved by an update.

What should you use?

A36-1: A. Octopus Deploy
A36-2: B. Jenkins
A36-3: C. Gradle
A36-4: D. SonarQube <<
A36-5: 

MY ANSWER TO PT02-Q36
--------------------------------------------------------------------------
A36-4: D. SonarQube <<
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q36
--------------------------------------------------------------------------
?
The answer given as being correct is
A36-1: A. Octopus Deploy
However, the whole community agrees that it should be the following instead
A36-4: D. SonarQube <<
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/36228-exam-az-400-topic-4-question-38-discussion/

REFS:

----------------------------------------------------------
Dependency-Check
https://github.com/jeremylong/DependencyCheck

Docs: OWASP dependency-check
http://jeremylong.github.io/DependencyCheck/
----------------------------------------------------------
OWASP dependency-check's core analysis engine can be used as:

Ant Task
Command Line Tool
Gradle Plugin
Jenkins Plugin
Maven Plugin - Maven 3.1 or newer required
SBT Plugin

----------------------------------------------------------
Dependency-Check Plugin for SonarQube 9.x and 10.x
https://github.com/dependency-check/dependency-check-sonar-plugin
----------------------------------------------------------

Dependency-Check is a utility that attempts to detect publicly disclosed 
vulnerabilities contained within project dependencies.
It does this by determining if there is a Common Platform Enumeration (CPE) 
identifier for a given dependency. If found, it will generate a report 
linking to the associated CVE entries.

This SonarQube plugin does not perform analysis, rather, it reads existing
Dependency-Check reports. Use one of the other available methods to scan
project dependencies and generate the necessary JSON report which can then
be consumed by this plugin. 

Refer to the Dependency-Check project for relevant documentation.

-----------------------------------------------------------------------
PT02-Q35:

You have an Azure DevOps project that contains a build pipeline. 
The build pipeline uses approximately 50 open-source libraries.

You need to ensure that all the open-source libraries comply with your
company's licensing standards. 

Which service should you use?


A35-1: A. Ansible
A35-2: B. Maven
A35-3: C. WhiteSource Bolt
A35-4: D. Helm
A35-5: 

MY ANSWER TO PT02-Q35
--------------------------------------------------------------------------
A35-3: C. WhiteSource Bolt
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q35
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/74553-exam-az-400-topic-4-question-37-discussion/
Suggested Answer: C
Note: Blackduck would also be a good answer, but it is not an option here.

REFS: PT02-Q32

-----------------------------------------------------------------------
PT02-Q34:

You have an Azure DevOps project named Project1 and an Azure subscription 
named Sub1.

You need to prevent releases from being deployed unless the releases 
comply with the Azure Policy rules assigned to Sub1. 

What should you do in the release pipeline of Project1?

A34-1: A. Add a deployment gate.
A34-2: B. Modify the Deployment queue settings.
A34-3: C. Configure a deployment trigger.
A34-4: D. Create a pipeline variable
A34-5: 

MY ANSWER TO PT02-Q34
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q34
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/44153-exam-az-400-topic-4-question-35-discussion/
Suggested Answer: A

REFS: PT01-Q14


-----------------------------------------------------------------------
PT02-Q33:

You need to configure GitHub to use Azure Active Directory (Azure AD) for authentication.
What should you do first?


A33-1: A. Create a conditional access policy in Azure AD.
A33-2: B. Register GitHub in Azure AD. <<
A33-3: C. Create an Azure Active Directory B2C (Azure AD B2C) tenant.
A33-4: D. Modify the Security settings of the GitHub organization.
A33-5: 

MY ANSWER TO PT02-Q33
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q33
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/36610-exam-az-400-topic-4-question-34-discussion/
Suggested Answer: B. Register GitHub in Azure AD.

---------------------------------------
THE FOLLOWING IS NOT RELATED TO THE QUESTION AS IT EXPLAINS WHAT 
The Credential Manager 
does when you wish to use it to authenticate  using your Azure AD credentials
to Azure Repos.

When you connect to a Git repository from your Git client for the first time, 
the ** credential manager ** prompts for credentials. 

Provide your Microsoft account or Azure AD credentials.

Note: 
** Git Credential Managers ** simplify authentication with your Azure Repos Git
repositories. Credential managers let you use the same credentials that you use
for the Azure DevOps Services web portal. 

Credential managers support multi-factor authentication through Microsoft account
or Azure Active Directory 
(Azure AD). Besides supporting multi-factor authentication with Azure Repos, 
credential managers also support two-factor authentication with GitHub repositories.

Reference:
https://docs.microsoft.com/en-us/azure/devops/repos/git/set-up-credential-managers
---------------------------------------

REFS
Tutorial: Azure AD SSO integration with a GitHub Enterprise Cloud Organization
https://learn.microsoft.com/en-us/azure/active-directory/saas-apps/github-tutorial

When you integrate a GitHub Enterprise Cloud Organization with Azure AD, you can:

 - Control in Azure AD who has access to your GitHub Enterprise Cloud Organization.
 - Manage access to your GitHub Enterprise Cloud Organization in one central location - the Azure portal.

---------------------------------
Adding GitHub from the gallery
https://learn.microsoft.com/en-us/azure/active-directory/saas-apps/github-tutorial?source=docs#adding-github-from-the-gallery
---------------------------------
To configure the integration of GitHub into Azure AD, you need to add GitHub
from the gallery to your list of managed SaaS apps.

-----------------------------------------------------------------------
PT02-Q32:

You plan to update the Azure DevOps strategy of your company. 
You need to identify the following issues as they occur during the company's 
development process:

Licensing violations *
Prohibited libraries * 

Solution-1: You implement continuous integration. << use WhiteSource 
Solution-2: You implement continuous deployment.

Does this meet the goal?

A32-1: A. Yes
A32-2: B. No
A32-3: 
A32-4: 
A32-5: 

MY ANSWER TO PT02-Q32
--------------------------------------------------------------------------
Solution-1: A. Yes
Solution-2: B. No
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q32
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/30817-exam-az-400-topic-4-question-28-discussion/
Suggested Answer: A 

https://www.examtopics.com/discussions/microsoft/view/50916-exam-az-400-topic-4-question-31-discussion/
Suggested Answer: B

see also: PT02-Q32
https://www.examtopics.com/discussions/microsoft/view/50914-exam-az-400-topic-4-question-30-discussion/

WhiteSource is the leader in continuous open source software security and compliance management.
WhiteSource integrates into your build process, irrespective of your programming languages, 
build tools, or development environments. 
It works automatically, continuously, and silently in the background, checking 

 - the security
 - licensing 
 - the quality 

of your open source components against WhiteSource constantly-updated definitive database
of open source repositories.

Reference:
https://azuredevopslabs.com/labs/vstsextend/whitesource/

-----------------------------------------------------------------------
PT02-Q31:

You use WhiteSource Bolt to scan a Node.js application. 

The WhiteSource Bolt scan identifies numerous libraries that have invalid 
licenses. The libraries are used only during development and are not part 
of a production deployment. 

You need to ensure that WhiteSource Bolt only scans production dependencies.

Which two actions should you perform?
NOTE: Each correct selection is worth one point.

A31-1: A. Run npm install and specify the --production flag.
A31-2: B. Modify the WhiteSource Bolt policy and set the action for the licenses used by the development tools to Reassign.
A31-3: C. Modify the devDependencies section of the project's Package.json file.
A31-4: D. Configure WhiteSource Bolt to scan the node_modules directory only.
A31-5: 

MY ANSWER TO PT02-Q31
--------------------------------------------------------------------------
C. Modify the devDependencies section of the project's Package.json file.
A. Run npm install and specify the --production flag.
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q31
--------------------------------------------------------------------------
C. Modify the devDependencies section of the project's Package.json file.
D. Configure WhiteSource Bolt to scan the node_modules directory only.

This is uncertain.
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/31774-exam-az-400-topic-4-question-27-discussion/

Suggested Answer: AC 

C: 
All npm packages contain a file, usually in the project root, called ** package.json **.
This file holds various metadata relevant to the project. 
This file is used to give information to npm that allows it to identify the project
as well as handle the project's dependencies. 

It can also contain other metadata such as 

 - a project description 
 - the version of the project in a particular distribution 
 - license information 
 - configuration data 

all of which can be vital to both npm and to the end users of the package.

A: 
To resolve NPM dependencies, you should first run "npm install" command on
the relevant folders before executing the plugin.

***
The npm install command is used to install dependencies for a Node.js project. 
By adding the --production flag to this command, you can ensure that only the
production dependencies are installed, and the development dependencies are excluded.
***


Reference:
https://whitesource.atlassian.net/wiki/spaces/WD/pages/34209870/NPM+Plugin https://nodejs.org/en/knowledge/getting-started/npm/what-is-the-file-package-json

REFS: PT01-Q12:

Comments

Selected Answer: AD
Correct answers are A & D.
1. A. When you use --production flag in npm install devDependencies are not installed (so C is wrong).
2. D. npm install command installs the dependencies to the local node_modules folder.

-----------------------------------------------------------------------
PT02-Q30:

You have  

 - an Azure DevOps organization named Contoso, 
 - an Azure DevOps project named Project1
 - an Azure subscription named Sub1 
 - an Azure key vault named vault1. 
 
 You need to ensure that you can reference the values of the secrets stored
 in vault1 in ** all ** the pipelines of Project1. 
 
 The solution must prevent the values from being stored in the pipelines.
 
 What should you do?

A30-1: A. Create a variable group in Project1.
A30-2: B. Add a secure file to Project1.
A30-3: C. Modify the security settings of the pipelines
A30-4: D. Configure the security policy of Contoso
A30-5: 

MY ANSWER TO PT02-Q30
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q30
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/20533-exam-az-400-topic-4-question-23-discussion/

Suggested Answer: A. Create a variable group in Project1.

Use a variable group to store values that you want to control and 
** make available across multiple pipelines. **

Reference:
https://docs.microsoft.com/en-us/azure/devops/pipelines/library/variable-groups

Variable groups store values and secrets that you might want to be passed into a
YAML pipeline or make available across multiple pipelines. 
You can share and use variable groups in multiple pipelines in the same project.
Access to non-secret variables is not limited by approvals, checks, and pipeline 
permissions.

-------------------------------------------------------------
Secret variables in Variables groups are protected resources. 
-------------------------------------------------------------
You can add combinations of approvals, checks, and pipeline permissions to limit
access to secret variables in a variable group. 

-------------------------------------------------------------
Authorize a variable group
https://learn.microsoft.com/en-us/azure/devops/pipelines/library/variable-groups?view=azure-devops&tabs=yaml#authorize-a-variable-group
-------------------------------------------------------------
To work with a variable group, you must authorize the group. 
***
if you only name the variable group in YAML, then anyone who can push code
to your repository could extract the contents of secrets in the variable group. 
***
 To authorize the group, use one of the following techniques:

 option-1
  authorize ** any ** pipeline to use the variable group.
  This might be a good option if you don't have any secrets in the group.
  go to 
  >> Azure Pipelines >> Library > Variable groups > Allow access to all pipelines

option-2
  authorize a variable group for a specific pipeline
  Choose this action to explicitly add the pipeline as an authorized user of
  the variable group.

  open the pipeline >> Edit > Queue > Build Manually >
  > You see a resource authorization error
  > Authorize resources action on the error

---------------------------------------------------------------------------------
You can't access secret variables (encrypted variables and key vault variables)
directly in scripts nstead, they must be passed as arguments to a task.
---------------------------------------------------------------------------------
Set secret variables
https://learn.microsoft.com/en-us/azure/devops/pipelines/process/variables?view=azure-devops&tabs=yaml%2Cbatch#secret-variables
---------------------------------------------------------------------------------

Don't set secret variables in your YAML file. 
Operating systems often log commands for the processes that they run, and you wouldn't
want the log to include a secret that you passed in as an input. 
Use the script's environment or map the variable within the variables block to pass
secrets to your pipeline.

You need to set secret variables in the pipeline settings UI for your pipeline.
You can also set secret variables in variable groups.

---------------------------------------------------------------------------------
Reference secret variables in variable groups
https://learn.microsoft.com/en-us/azure/devops/pipelines/process/variables?view=azure-devops&tabs=yaml%2Cbatch#reference-secret-variables-in-variable-groups
---------------------------------------------------------------------------------
In practice you ghave to map a secret from a variable group into a environment variable
as shown below.
```
env:
    MY_MAPPED_TOKEN: $(token) # Maps the secret variable $(token) from my-var-group
```

-----------------------------------------------------------------------
PT02-Q29:

You have the following Azure policy.

```
"policyRule": {
            "if": {
                "allof": [
                  {
                    "field": "type",
                    "equals": "Microsoft.Storage/storageAccounts"
                  },
                  {
                    "field": "Microsoft.Storage/storageAccounts/supportsHttpsTrafficOnly",
                    "notEquals": "true"
                  }
                ]
            },
            "then": {
                "effect": "deny"
            }
        }
```

You assign the policy to the Tenant root group.
What is the effect of the policy?


A29-1: A. prevents all HTTP traffic to existing Azure Storage accounts
A29-2: B. ensures that all traffic to new Azure Storage accounts is encrypte 
A29-3: C. prevents HTTPS traffic to new Azure Storage accounts when the accounts are accessed over the Internet
A29-4: D. ensures that all data for new Azure Storage accounts is encrypted at rest
A29-5: 

MY ANSWER TO PT02-Q29
--------------------------------------------------------------------------
B. ensures that all traffic to new Azure Storage accounts is encrypte
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q29
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/48661-exam-az-400-topic-4-question-22-discussion/

Correct answer is OK. 
The policy is not going to apply to the existing resources, 
** unless you run a remediation task ** to force the policy to all the existing
resources.

REFs

Azure Policy definition structure
https://learn.microsoft.com/en-us/azure/governance/policy/concepts/definition-structure


-----------------------------------------------------------------------
PT02-Q28:

Your company uses Azure DevOps. Only users who have accounts in 
Azure Active Directory can access the Azure DevOps environment. 

You need to ensure that only devices that are connected to the on-premises
network can access the Azure DevOps environment. 

What should you do?


A28-1: A. Assign the Stakeholder access level to all users.
A28-2: B. In Azure Active Directory, configure risky sign-ins.
A28-3: C. In Azure DevOps, configure Security in Project Settings.
A28-4: D. In Azure Active Directory, configure conditional access.
A28-5: 

MY ANSWER TO PT02-Q28
--------------------------------------------------------------------------
D. In Azure Active Directory, configure conditional access.
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q28
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/20532-exam-az-400-topic-4-question-21-discussion/

Suggested Answer: D. In Azure Active Directory, configure conditional access. 

Conditional Access is a capability of Azure Active Directory. 
With Conditional Access, you can implement automated access control decisions
for accessing your cloud apps that are based on conditions.

Conditional Access policies are enforced after the first-factor authentication 
has been completed.

Reference:

What is Conditional Access?
https://docs.microsoft.com/en-us/azure/active-directory/conditional-access/overview

Conditional Access: Conditions
https://learn.microsoft.com/en-us/azure/active-directory/conditional-access/concept-conditional-access-conditions#locations

Conditional Access: Filter for devices
https://learn.microsoft.com/en-us/azure/active-directory/conditional-access/concept-condition-filters-for-devices

----------------------------------------------------
Intune Conditional Access for Exchange on-premises
https://learn.microsoft.com/en-us/mem/intune/protect/conditional-access-intune-common-ways-use#intune-conditional-access-for-exchange-on-premises
----------------------------------------------------

Conditional Access can be used to allow or block access to Exchange on-premises
based on the device compliance policies and enrollment state. When Conditional
Access is used in combination with a device compliance policy, only compliant 
devices are allowed access to Exchange on-premises.

- Allow or block certain platforms.
- Immediately block devices that aren't managed by Intune.

-----------------------------------------------------------------------
PT02-Q27:

You have an Azure DevOps organization named Contoso that contains a project 
named Project1. 

You provision an Azure key vault named Keyvault1. 

You need to reference Keyvault1 secrets in a build pipeline of Project1.

What should you do first?

A27-1: A. Add a secure file to Project1.
A27-2: B. Create an XAML build service.
A27-3: C. Create a variable group in Project1.
A27-4: D. Configure the security policy of Contoso.
A27-5: 

MY ANSWER TO PT02-Q27
--------------------------------------------------------------------------
D. Configure the security policy of Contoso.
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q27
--------------------------------------------------------------------------
?
-----------------------------------------------
renzoku Most Recent  1 month, 2 weeks ago
-----------------------------------------------
Selected Answer: C. Create a variable group in Project1.

To reference Keyvault1 secrets in a build pipeline, you need to create a variablegroup.
Azure DevOps variable groups can link to Azure Key Vault.
Ref
https://learn.microsoft.com/en-us/azure/devops/pipelines/library/variable-groups?view=azure-devops&tabs=yaml#link-secrets-from-an-azure-key-vault

** After the variable group is in place **

The build needs permission to access the Azure Key Vault. 
This can be added to the Azure Portal. Open the Access Policies in the Key Vault 
and add a new one. Choose the principle used in the DevOps build.

Reference
https://docs.microsoft.com/en-us/azure/devops/pipelines/release/azure-key-vault

--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/35918-exam-az-400-topic-4-question-20-discussion/

Suggested Answer: D. Configure the security policy of Contoso. 

The build needs permission to access the Azure Key Vault. 
This can be added in the Azure Portal.
Open the Access Policies in the Key Vault and add a new one. 
Choose the principle used in the DevOps build.

Reference:
https://docs.microsoft.com/en-us/azure/devops/pipelines/release/azure-key-vault

-----------------------------------------------------------------------
PT02-Q26:

Your company is creating a suite of three mobile applications.

You need to control access to the application builds.
The solution must be managed at the organizational level.

What should you use for below? 
To answer, select the appropriate options in the answer area.

A. Group to control the build access _____________

A26A-1: A. Active Directory Groups
A26A-2: B. Azure Active Directory Groups
A26A-3: C. Microsoft Visual Studio App Center distribution groups


B. Group type ____________

A26B-1: A. Private
A26B-2: B. Public
A26B-3: C. Shared

MY ANSWER TO PT02-Q26
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q26
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/20530-exam-az-400-topic-4-question-19-discussion/

Suggested Answer:

Box 1: 
C. Microsoft Visual Studio App Center distribution groups

Distribution Groups are used to control access to releases. 
A Distribution Group represents a set of users that can be managed jointly 
and can have common access to releases. 
Example of Distribution Groups can be teams of users, like the 

 - QA Team 
 - External Beta Testers 

 or can represent stages or rings of releases, such as 

  - Staging

Box 2: 
C. Shared

Shared distribution groups are private or public distribution groups that are 
shared across multiple apps in a single organization. Shared distribution groups 
eliminate the need to replicate distribution groups across multiple apps.

Note: 
With the Deploy with App Center Task in Visual Studio Team Services, you can deploy
your apps from Azure DevOps (formerly known as VSTS) to App Center. 
By deploying to App Center, you will be able to distribute your builds to your users.

REFS
Manage App Center Distribution Groups
https://docs.microsoft.com/en-us/appcenter/distribution/groups

--------------------------------
Private Distribution Groups
https://learn.microsoft.com/en-us/appcenter/distribution/groups#private-distribution-groups
--------------------------------
In App Center, distribution groups are private by default. 
Only testers invited via email can access the releases available to this group.
Testers added to this group will receive a notification that they've been added to the app to test.
After a release, testers will receive a new release notification email and must sign in to App Center to access the release.

--------------------------------
Public Distribution Groups
https://learn.microsoft.com/en-us/appcenter/distribution/groups#public-distribution-groups
--------------------------------
Distribution groups must be public to enable unauthenticated installs from public links. 

As with private distribution groups, testers receive emails notifying inviting them to test
the app and when releases are available. To access the app, testers are required to sign in
with their App Center account.

Also, a ** public download link ** is under the distribution group name at the top of the 
distribution group page. 
** Anyone ** can access the release without signing in using the public download link.

--------------------------------
Shared Distribution Groups
https://learn.microsoft.com/en-us/appcenter/distribution/groups#shared-distribution-groups
--------------------------------

Shared distribution groups are ** private or public ** distribution groups that are shared
across multiple apps ** in a single organization. ** 
***
Shared distribution groups eliminate the need to replicate distribution groups across multiple apps.
You can give a shared distribution group access to any combination of apps in your organization.
Unlike app-level distribution groups, shared distribution groups are at the organization level rather than the app level. 
***

--------------------------------
Adding Azure Active Directory (AAD) security groups to a Distribution Group
https://learn.microsoft.com/en-us/appcenter/distribution/groups#adding-azure-active-directory-aad-security-groups-to-a-distribution-group
--------------------------------

App Center supports adding AAD security groups to a distribution group, 
after your App Center organization is connected to your Azure Active Directory tenant.

To connect Azure AD tenants to App Center, see 
----------------------------------------
Connecting to Azure Active Directory.
https://learn.microsoft.com/en-us/appcenter/general/connecting-to-azure-active-directory
----------------------------------------

Once your tenant is connected to the organization, you can add AAD security groups to
the distribution group.


-----------------------------------------------------------------------
PT02-Q25:

You are deploying a server application that will run on a Server Core 
installation of Windows Server 2019.

You create an Azure key vault and a secret. 
You need to use the key vault to secure API secrets for third-party 
integrations. 

Which three actions should you perform?

A25-1: A. Configure RBAC for the key vault.
A25-2: B. Modify the application to access the key vault.
A25-3: C. Configure a Key Vault access policy.
A25-4: D. Deploy an Azure Desired State Configuration (DSC) extension.
A25-5: E. Deploy a virtual machine that uses a system-assigned managed identity.

MY ANSWER TO PT02-Q25
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q25
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/35808-exam-az-400-topic-4-question-18-discussion/

Suggested Answer: BCE 
B. Modify the application to access the key vault.
C. Configure a Key Vault access policy.
E. Deploy a virtual machine that uses a system-assigned managed identity.

B+E
An app deployed to Azure can take advantage of Managed identities for Azure resources,
which allows the app to authenticate with Azure Key Vault using Azure AD authentication
without credentials (Application ID and Password/Client Secret) stored in the app.

C. Configure a Key Vault access policy.
Key Vault
> Add Access Policy 
> Open Secret permissions and provide the app with Get and List permissions
> Select Select principal and select the registered app by name. 
  =>
  Probably this ought to be the VM system-assigned managed identity
> Save


-----------------------------------------------------------------------
PT02-Q24:

You have an Azure Resource Manager template that deploys a multi-tier application.

You need to prevent the user who performs the deployment from viewing the
account credentials and connection strings used by the application. 

What should you use?

A24-1: A. Azure Key Vault
A24-2: B. a Web.config file
A24-3: C. an Appsettings.json file
A24-4: D. an Azure Storage table
A24-5: E. an Azure Resource Manager parameter file

MY ANSWER TO PT02-Q24
--------------------------------------------------------------------------
A24-1: A. Azure Key Vault
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q24
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/24850-exam-az-400-topic-4-question-13-discussion/

Suggested Answer: A. Azure Key Vault

When you need to pass a secure value (like a password) as a parameter during
deployment, you can retrieve the value from an Azure Key Vault. You retrieve
the value by referencing the key vault and secret in your parameter file. 

The value is never exposed because you only reference its key vault ID. 
The key vault can exist in a different subscription than the resource group
you are deploying to.

Reference:
https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-manager-keyvault-parameter

Instead of putting a secure value (like a password) directly in your 
template or parameter file, you can retrieve the value from an 
Azure Key Vault during a deployment.

```
az keyvault update  --name ExampleVault --enabled-for-template-deployment true
```

```
az group create --name ExampleGroup --location centralus
az keyvault create \
  --name ExampleVault \
  --resource-group ExampleGroup \
  --location centralus \
  --enabled-for-template-deployment true
az keyvault secret set --vault-name ExampleVault --name "ExamplePassword" --value "hVFkk965BuUv"
```

```
az keyvault set-policy \
  --upn <user-principal-name> \
  --name ExampleVault \
  --secret-permissions set delete get list
```

--------------------------------------------
Grant deployment access to the secrets
https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/key-vault-parameter?tabs=azure-cli#grant-deployment-access-to-the-secrets
--------------------------------------------

The user who deploys the template must have the 
-----------------------------------------
Microsoft.KeyVault/vaults/deploy/action 
-----------------------------------------
The Owner and Contributor roles both grant this access. 

permission for the scope of the resource group and key vault.
By checking this access, Azure Resource Manager prevents an unapproved user
from accessing the secret by passing in the resource ID for the key vault.

You can grant deployment access to users without granting write access to 
the secrets.

-----------------------------------------
Reference secrets with static ID
*** parameter file ***
https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/key-vault-parameter?tabs=azure-cli#reference-secrets-with-static-id
-----------------------------------------
With this approach, you reference the key vault in the parameter file, not the template.

-----------------------------------------
Reference secrets with dynamic ID
*** linked template. ***
https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/key-vault-parameter?tabs=azure-cli#reference-secrets-with-dynamic-id
-----------------------------------------

-----------------------------------------------------------------------
You can't dynamically generate the resource ID in the parameters file 
because template expressions aren't allowed in the parameters file.
-----------------------------------------------------------------------

In some scenarios, you need to reference a key vault secret that varies 
based on the current deployment. 
Or you may want to pass parameter values to the template rather than 
create a reference parameter in the parameter file.

The solution is to dynamically generate the resource ID for a 
key vault secret by using a *** linked template. ***.

-----------------------------------------------------------------------
In your ** parent template ** you add the ** nested template ** 
and pass in a parameter that contains the dynamically generated 
resource ID.
Template expressions are allowed in ** nested templates **.
-----------------------------------------------------------------------


***
--------------------------------------------------------------------
Access Key Vault secret when deploying Azure Managed Applications
https://learn.microsoft.com/en-us/azure/azure-resource-manager/managed-applications/key-vault-access
--------------------------------------------------------------------



-----------------------------------------------------------------------
PT02-Q23:


You have a branch policy in a project in Azure DevOps. The policy requires
that code always builds successfully.

You need to ensure that a specific user can always merge changes to the master
branch, even if the code fails to compile. 

The solution must use the principle of least privilege.

What should you do?


A23-1: A. Add the user to the Build Administrators group.
A23-2: B. Add the user to the Project Administrators group.
A23-3: C. From the Security settings of the repository, modify the access control for the user.
A23-4: D. From the Security settings of the branch, modify the access control for the user.
A23-5: 

MY ANSWER TO PT02-Q23
--------------------------------------------------------------------------
D. From the Security settings of the branch, modify the access control for the user.
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q23
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/20613-exam-az-400-topic-4-question-12-discussion/

Suggested Answer: D. From the Security settings of the branch, modify the access control for the user.

In some cases, you need to bypass policy requirements so you can push changes
to the branch directly or complete a pull request even if branch policies are
not satisfied. 

For these situations, grant the desired permission from the previous list to
a user or group. 
You can scope this permission to an 
 - entire project
 - a repo 
 - a single branch. 
 
Manage this permission along the with other Git permissions.
Reference:
https://docs.microsoft.com/en-us/azure/devops/repos/git/branch-policies

---------------------
Set Branch policies
---------------------

To set branch policies, you must be a member of the 

- Project Administrators security group 
or 
- ave repository-level Edit policies permissions. 

You can also use Azure DevOps CLI `az repos policy` commands to manage 
branch policies, follow the steps in Get started with Azure DevOps CLI.

Get started with Azure DevOps CLI
https://learn.microsoft.com/en-us/azure/devops/cli/?view=azure-devops

az repos policy
https://learn.microsoft.com/en-us/cli/azure/repos/policy?view=azure-cli-latest

---------------------
In Azure DevOps
---------------------
Repos >> Branches
or
Project Settings > Repository > Policies > Branch Policies > <Branch Name>.

>> Select the More options > select Branch policies

- Require a minimum number of reviewers
  - Allow requestors to approve their own changes
  - Prohibit the most recent pusher from approving their own changes
  - Allow completion even if some reviewers vote to wait or reject
  - When new changes are pushed
    - Require at least one approval on every iteration
    - Require at least one approval on the last iteration
    - Reset all approval votes (does not reset votes to reject or wait) 
    - Reset all code reviewer votes

- Check for linked work items

you can require associations between PRs and work items to ensures that 
updates go through your work item tracking process.

- Check for comment resolution

----------------------
- Limit merge types
----------------------


- Basic merge 
(no fast-forward) creates a merge commit in the target whose parents are 
the target and source branches.

- Squash merge 
creates a linear history with a single commit in the target branch with the
changes from the source branch. 

- Rebase and fast-forward 
creates a linear history by replaying source commits onto the target branch
with no merge commit.

- Rebase with merge commit 
replays the source commits onto the target and also creates a merge commit.

----------------------
Build validation
https://learn.microsoft.com/en-us/azure/devops/repos/git/branch-policies?view=azure-devops&tabs=browser#build-validation
----------------------
You can set a policy requiring PR changes to build successfully before the 
PR can complete. A build validation policy queues a new build when a new PR
is created or changes are pushed to an existing PR that targets the branch. 
The build policy evaluates the build results to determine whether the PR 
can be completed.

----------------------
Bypass branch policies
https://learn.microsoft.com/en-us/azure/devops/repos/git/branch-policies?view=azure-devops&tabs=browser#bypass-branch-policies
----------------------

In some cases, you might need to bypass policy requirements. 
Bypass permissions let you push changes to a branch directly, or complete 
pull requests that don't satisfy branch policies. You can grant bypass
permissions to a user or group. 

Two permissions allow users to bypass branch policy in different ways:

- Bypass policies when completing pull requests 

applies only to pull request completion.

- Bypass policies when pushing

applies to pushes from local repositories and edits made on the web. 
Users with this permission can push changes directly to protected branches 
without meeting policy requirements.

----------------------
Path filters
https://learn.microsoft.com/en-us/azure/devops/repos/git/branch-policies?view=azure-devops&tabs=browser#path-filters
----------------------

Several branch policies offer path filters.
If a path filter is set, the policy applies only to files that match the path filter. 


-----------------------------------------------------------------------
PT02-Q22:


You create a Microsoft ASP.NET Core application. 
You plan to use Azure Key Vault to provide secrets to the application as
configuration data. 

You need to create a Key Vault access policy to assign secret permissions
to the application. 

The solution must use the principle of least privilege. 
Which secret permissions should you use?

A22-1: A. List only
A22-2: B. Get only
A22-3: C. Get and List
A22-4: 
A22-5: 

MY ANSWER TO PT02-Q22
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q22
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/23056-exam-az-400-topic-4-question-9-discussion/

Suggested Answer: B: Get only

within least privilege rules, by granting “Get only” permission, application 
will only be able to retrieve values of secrets from Azure Key Vault, but 
will not be allowed to list all secrets in Key Vault. This ensures that 
the application only has access to the specific secrets it needs, without 
excessive or necessary access to other secrets.


-----------------------------------------------------------------------
PT02-Q21:


Your company has a project in Azure DevOps for a new web application. 
The company identifies security as one of its highest priorities. 

You need to recommend a solution to minimize the likelihood that 
infrastructure credentials will be leaked. 

What should you recommend?

A21-1: A. Add a Run Inline Azure PowerShell task to the pipeline.
A21-2: B. Add a PowerShell task to the pipeline and run Set-AzureKeyVaultSecret.
A21-3: C. Add an Azure Key Vault task to the pipeline.
A21-4: D. Add Azure Key Vault references to Azure Resource Manger templates.
A21-5: 

MY ANSWER TO PT02-Q21
--------------------------------------------------------------------------
A21-3: C. Add an Azure Key Vault task to the pipeline. << INCORRECT!
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q21
--------------------------------------------------------------------------
?
There is uncertainty on this question it could be either 
A21-3: C. Add an Azure Key Vault task to the pipeline.
A21-4: D. Add Azure Key Vault references to Azure Resource Manger templates.

I think D. Add Azure Key Vault references to Azure Resource Manger templates.
might be a better choice because the question asks
** to minimize the likelihood that infrastructure credentials will be leaked **
and while 
C. Add an Azure Key Vault task to the pipeline.
can help in that it only does so if ** securestring ** is used!
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/9791-exam-az-400-topic-4-question-7-discussion/

------------------------
xRiot007 1 month ago
------------------------
You want credentials not to be leaked. 
This means they CANNOT be anywhere in your infrastructure scripts of pipeline.
To do this, you will add ** Azure Key Vault key references. **
At runtime, the pipeline will ask the Vault for values and pass them 
immediately to the infrastructure scripts.

Comments

------------------------ 
Yanzhi 3 years, 8 months ago
------------------------ 
D. Add Azure Key Vault references to Azure Resource Manger templates. 
is more "correct" than 
C. Add an Azure Key Vault task to the pipeline. 
because the protection object is infra's credential, it may or may not 
used in pipeline.

------------------------ 
notsure1111 3 months ago
------------------------ 
Answer: 

Option A (Add a Run Inline Azure PowerShell task to the pipeline) 
and 
Option B (Add a PowerShell task to the pipeline and run Set-AzureKeyVaultSecret) 
might involve executing PowerShell commands to manage secrets, but they do not 
provide the same level of security and centralization as Azure Key Vault.

Option C: Add an Azure Key Vault task to the pipeline.
is OK

Option D (Add Azure Key Vault references to Azure Resource Manager templates) 
is more focused on referencing secrets in Azure Resource Manager templates, which 
may be applicable in certain scenarios, but it does not address the issue of 
securely retrieving and managing infrastructure credentials within the Azure DevOps 
pipeline itself.

Therefore, Option C is the recommended solution to minimize the likelihood of
infrastructure credentials being leaked by leveraging the security features 
provided by Azure Key Vault

-----------------------------------------------------------------------
PT02-Q20:


You have an application that consists of several Azure App Service web
apps and Azure functions. 
You need to assess the security of web apps and their functions. 

Which Azure feature can you use to provide a recommendation for the security
of the application?

A20-1: A. Security & Compliance in Azure Log Analytics
A20-2: B. Resource health in Azure Service Health 
A20-3: C. Smart Detection in Azure Application Insights
A20-4: D. Compute & apps in Azure Security Center
A20-5: 

MY ANSWER TO PT02-Q20
--------------------------------------------------------------------------
A20-4: D. Compute & apps in Azure Security Center
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q20
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/29727-exam-az-400-topic-4-question-6-discussion/
Suggested Answer: D. Compute & apps in Azure Security Center

Monitor compute and app services: Compute & apps include the App Services tab, 
which App services: list of your App service environments and current security
state of each.

** Micorsoft Defender For Cloud **
Overview of Defender for App Service to protect your Azure App Service web apps and APIs
https://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-app-service-introduction

Defender for Cloud is natively integrated with App Service, eliminating the need
for deployment and onboarding - the integration is transparent.
To protect your Azure App Service plan with Microsoft Defender for App Service, 
you'll need:
- A supported App Service plan associated with dedicated machines. 
- Defender for Cloud's enhanced protections enabled on your subscription 

-------------------------------------------------------------
What are the benefits of Microsoft Defender for App Service?
-------------------------------------------------------------

Microsoft Defender for App Service uses the scale of the cloud to identify attacks 
targeting applications running over App Service. Attackers probe web applications
to find and exploit weaknesses. Before being routed to specific environments, requests
to applications running in Azure go through several gateways, where they're inspected 
and logged.
This data is then used to identify exploits and attackers, and to learn new patterns
that will be used later.

When you enable Microsoft Defender for App Service, you immediately benefit from
the following services offered by this Defender plan:

- Secure:
Defender for App Service assesses the resources covered by your App Service plan
and generates security recommendations based on its findings.
Use the detailed instructions in these recommendations to harden your App Service 
resources.

-Detect 
Defender for App Service detects a multitude of threats to your App Service resources 
by monitoring:
  - the VM instance in which your App Service is running, and its management interface
  - the requests and responses sent to and from your App Service apps
  - the underlying sandboxes and VMs
  - App Service internal logs - available thanks to the visibility that Azure has as a cloud provider

As a cloud-native solution, Defender for App Service can identify attack methodologies
applying to multiple targets. or example, from a single host it would be difficult to
identify a distributed attack from a small subset of IPs, crawling to similar endpoints
on multiple hosts.
The log data and the infrastructure together can tell the story.

------------------------------------------------------------
What threats can Defender for App Service detect?
------------------------------------------------------------
The alerts cover almost the complete list of MITRE ATT&CK tactics

- Pre-attack threats:
Defender for Cloud can detect the execution of multiple types of vulnerability scanners
that attackers frequently use to probe applications for weaknesses.

- Initial access threats: 
Microsoft Threat Intelligence powers these alerts that include triggering an
alert when a known malicious IP address connects to your Azure App Service FTP 
interface.

- Execution threats:  
Defender for Cloud can detect attempts to run high privilege commands, Linux
commands on a Windows App Service, fileless attack behavior, digital currency
mining tools, and many other suspicious and malicious code execution activities.

- Dangling DNS detection
-----------------------------------------------------------------------------
Subdomain takeovers are a common, high-severity threat for organizations.

hen a threat actor detects a dangling DNS entry, they create their own site at 
the destination address.
-----------------------------------------------------------------------------
Defender for App Service also identifies any DNS entries remaining in your 
DNS registrar when an App Service website is decommissioned.
When you remove a website and don't remove its custom domain from your DNS registrar,
the DNS entry is pointing to a non-existent resource, and your subdomain is vulnerable
to a takeover.
Defender for Cloud doesn't scan your DNS registrar for existing dangling DNS entries;
it alerts you when an App Service website is decommissioned and its custom domain 
(DNS entry) isn't deleted.

------------------------------
Incorrect Answers: C: 
------------------------------
Smart Detection automatically warns you of potential performance problems, 
not security problems in your web application.
Reference:
https://docs.microsoft.com/en-us/azure/azure-monitor/app/proactive-diagnostics
+
REFS: PT02-Q01

***
What's the difference between Azure Security Center, Azure Defender and Azure Sentinel?
https://techcommunity.microsoft.com/t5/itops-talk-blog/what-s-the-difference-between-azure-security-center-azure/ba-p/2155188
***

-----------------------------------------------------------------------
PT02-Q19:


You have an Azure DevOps organization named Contoso. 

You need to recommend an authentication mechanism that meets the following
requirements:
- Supports authentication from Git
- Minimizes the need to provide credentials during the authentication

What should you recommend?

A19-1: A. personal access tokens (PATs) in Azure DevOps
A19-2: B. Alternate credentials in Azure DevOps
A19-3: C. user accounts in Azure Active Directory (Azure AD)
A19-4: D. managed identities in Azure Active Directory (Azure AD)
A19-5: 

MY ANSWER TO PT02-Q19
--------------------------------------------------------------------------
A. personal access tokens (PATs) in Azure DevOps
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q19
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/44299-exam-az-400-topic-4-question-5-discussion/
Suggested Answer: A. personal access tokens (PATs) in Azure DevOps

Personal access tokens (PATs) give you access 
- to Azure DevOps 
- and Team Foundation Server (TFS), 
without using your username and password directly.

- These tokens have an expiration date from when they're created
- You can restrict the scope of the data they can access

Use PATs to authenticate if 
- you don't already have SSH keys set up on your system 
  or 
- you need to restrict the permissions that are granted by the credential.

Incorrect Answers:
B: Azure DevOps no longer supports Alternate Credentials authentication since
the beginning of March 2, 2020.

-----------------------------------------------------------------------
PT02-Q18:


You are building a Microsoft ASP.NET application that requires authentication.
You need to authenticate users by using Azure Active Directory (Azure AD).

What should you do first?

A18-1: A. Assign an enterprise application to users and groups
A18-2: B. Create an app registration in Azure AD
A18-3: C. Configure the application to use a SAML endpoint
A18-4: D. Create a new OAuth token from the application
A18-5: E. Create a membership database in an Azure SQL database

MY ANSWER TO PT02-Q18
--------------------------------------------------------------------------
B. Create an app registration in Azure AD
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q18
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/35919-exam-az-400-topic-4-question-4-discussion/
Suggested Answer: B. Create an app registration in Azure AD

Register your application to use Azure Active Directory. 
Registering the application means that your developers can use Azure AD 
to authenticate users and request access to user resources such as email,
calendar, and documents.

---------------------------------------------
What is the Microsoft identity platform?
https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-overview
---------------------------------------------
The Microsoft identity platform helps you build applications your users and 
customers can sign in to using their Microsoft identities or social accounts. 
It authorizes access to your own APIs or Microsoft APIs like Microsoft Graph

-----------------------------------------------------------------------
PT02-Q17:


You plan to provide a self-hosted Linux agent. 

Which authentication mechanism should you use to register the self-hosted agent?

A17-1: A. personal access token (PAT)
A17-2: B. SSH key
A17-3: C. Alternate credentials
A17-4: D. certificate
A17-5: 

MY ANSWER TO PT02-Q17
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q17
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/35920-exam-az-400-topic-4-question-3-discussion/

Suggested Answer: A. personal access token (PAT)
Note: 
PAT Supported only on Azure Pipelines and TFS 2017 and newer. 
After you choose PAT, paste the PAT token you created into the command 
prompt window. Use a personal access token (PAT) if your Azure DevOps 
Server or TFS instance and the agent machine are not in a trusted domain. 
PAT authentication is handled by your Azure DevOps Server or TFS instance 
instead of the domain controller.

Reference:
https://docs.microsoft.com/en-us/azure/devops/pipelines/agents/v2-linux

The user configuring the agent needs 
POOL ADMIN PERMISSION 
but the user running the agent does not.

---------------------------------------------
IMPORTANT!

The folders controlled by the agent should be restricted to as few users
as possible and they contain secrets that could be decrypted or exfiltrated.
The Azure Pipelines agent is a software product designed to execute code 
it downloads from external sources. It inherently could be a target for 
Remote Code Execution (RCE) attacks.

Therefore, it is important to consider the threat model surrounding each 
individual usage of Pipelines Agents to perform work, and decide what are
 the minimum permissions could be granted to 
 
- the user running the agent 
- to the machine where the agent runs 
- to the users who have write access to the Pipeline definition
- to the git repos where the yaml is stored
- or to the group of users who control access to the pool for new pipelines.

IMPORTANT

It is a best practice to have the identity running the agent be different 
from the identity with permissions to connect the agent to the pool.
The user generating the credentials (and other agent-related files) is 
different than the user that needs to read them.
Therefore, it is safer to carefully consider access granted to the agent 
machine itself, and the agent folders which contain sensitive files, 
such as logs and artifacts.

It makes sense 
 - to grant access to the agent folder only for DevOps administrators
 - and to the user identity running the agent process.

 Administrators may need to investigate the file system to 
 understand build failures or get log files to be able to report 
 Azure DevOps failures.

---------------------------------------------

REGISTER THE AGENT 

As a one-time step, you must register the agent. 
Someone with permission to administer the agent queue must complete these steps.
The agent will not use this person's credentials in everyday operation, but they're required to complete registration.

In Azure DevOps
Organization >> User Settings >> Personal Access Token (PAT)
Create a personal access token.
>
For the scope select Agent Pools (read, manage) and 
make sure all the other boxes are cleared.
* If it's a deployment group agent, for the scope select Deployment group (read, manage) 
>
Select Show all scopes at the bottom of the Create 
a new personal access token window window to see the complete list of scopes.
>
Copy the token. You'll use this token when you configure the agent.


---------------------------------------------
Download and configure the agent
https://learn.microsoft.com/en-us/azure/devops/pipelines/agents/linux-agent?view=azure-devops#download-and-configure-the-agent

---------------------------------------------
Authentication type
https://learn.microsoft.com/en-us/azure/devops/pipelines/agents/linux-agent?view=azure-devops#authentication-type
Azure Pipelines: Choose PAT, and then paste the PAT token you created into the command prompt window.
Note:
When using PAT as the authentication method, the PAT token is used only 
for the initial configuration of the agent.

------------------------------------------------------------------------
PT02-Q16:

You have several Azure Active Directory (Azure AD) accounts. 
You need to ensure that users use multi-factor authentication (MFA) to 
access Azure apps from untrusted networks. 

What should you configure in Azure AD?

A16-1: A. access reviews
A16-2: B. managed identities
A16-3: C. entitlement management
A16-4: D. conditional access
A16-5: 

MY ANSWER TO PT02-Q16
--------------------------------------------------------------------------
A16-4: D. conditional access
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q16
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/74034-exam-az-400-topic-4-question-2-discussion/

Suggested Answer: D. conditional access
You can configure a Conditional Access policy that requires 
** MFA for access from untrusted networks. ** 
Reference:
https://docs.microsoft.com/en-us/azure/active-directory/conditional-access/howto-conditional-access-policy-all-users-mfa

------------------------------------------------------------------------
PT02-Q15:


You have an Azure DevOps organization named Contoso and an Azure subscription. 
The subscription contains an Azure virtual machine scale set named VMSS1 that
is configured for autoscaling. 

You have a project in Azure DevOps named Project1. 
Project1 is used to build a web app named App1 and deploy App1 to VMSS1. 
You need to ensure that an email alert is generated whenever VMSS1 scales 
in or out.

Solution1: From Azure DevOps, configure the Notifications settings for Project1.

Does this meet the goal?

A15-1: A. Yes
A15-2: B. No <<


Solution2: From Azure DevOps, configure the Service hooks settings for Project1.

A15-1: A. Yes
A15-2: B. No <<


Solution3: From Azure Monitor, create an action group.

A15-1: A. Yes <<
A15-2: B. No
 

MY ANSWER TO PT02-Q15
--------------------------------------------------------------------------
No > No > Yes
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q15
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS

https://www.examtopics.com/discussions/microsoft/view/76270-exam-az-400-topic-3-question-28-discussion/

https://www.examtopics.com/discussions/microsoft/view/76020-exam-az-400-topic-3-question-29-discussion/

An action group is a collection of notification preferences defined by 
the owner of an Azure subscription. 

 - Azure Monitor Service Health and 
 - Azure Advisor alerts 
 
use action groups to notify users that an alert has been triggered.
Reference:
https://docs.microsoft.com/en-us/azure/azure-monitor/alerts/action-groups


------------------------------------------------------------------------
PT02-Q14:

You are designing a strategy to monitor the baseline metrics of 
Azure virtual machines that run Windows Server.

You need to collect detailed data about the processes running in the guest
operating system.

Which two agents should you deploy?

A14-1: A. the Telegraf agent
A14-2: B. the Azure Log Analytics agent
A14-3: C. the Azure Network Watcher Agent for Windows
A14-4: D. the Dependency agent
A14-5: 

MY ANSWER TO PT02-Q14
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q14
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/51392-exam-az-400-topic-3-question-25-discussion/

Suggested Answer: BD
B. the Azure Log Analytics agent
D. the Dependency agent

Reference:
https://docs.microsoft.com/en-us/azure/azure-monitor/platform/agents-overview

B. the Azure Log Analytics agent
D. the Dependency agent REQUIRES the Azure Log Analytics agent
collects the following data
- Processes 
- Dependencies
- Network connections metrics

B. the Azure Log Analytics agent
collects the following data
- Event Logs
- Performance Counters
- File based Loogs
- IIS Logs
- Data generated by Application Insights
- Other Services



------------------------------------------------------------------------
PT02-Q13:

You have a containerized solution that runs in Azure Container Instances. 
The solution contains 
 - a frontend container named App1 
 - and a backend container named DB1. 
 
 DB1 loads a large amount of data during startup.

You need to verify that DB1 can handle incoming requests before users can 
submit requests to App1.

What should you configure?

A13-1: A. a liveness probe
A13-2: B. a performance log
A13-3: C. a readiness probe
A13-4: D. an Azure Load Balancer health probe
A13-5: 

MY ANSWER TO PT02-Q13
--------------------------------------------------------------------------
A13-3: C. a readiness probe
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q13
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/37404-exam-az-400-topic-3-question-24-discussion/ 
Suggested Answer: C. a readiness probe

** readiness probes **
For containerized applications that serve traffic, you might want to verify that
your container is ready to handle incoming requests. 
Azure Container Instances supports readiness probes to include configurations so
that your container can't be accessed under certain conditions.

Incorrect Answers:
** liveness probes **
A: Containerized applications may run for extended periods of time, resulting in
broken states that may need to be repaired by restarting the container. 
Azure Container Instances supports liveness probes so that you can configure your
containers within your container group to restart if critical functionality is not working.

Reference:
https://docs.microsoft.com/en-us/azure/container-instances/container-instances-readiness-probe

------------------------------------------------------------------------
PT02-Q12:

You are designing a configuration management solution to support five apps
hosted on Azure App Service. 
Each app is available in the following three environments: 
 - development 
 - test
 - production.

You need to recommend a configuration management solution that meets the
following requirements:

- Supports feature flags
- Tracks configuration changes from the past 30 days
- Stores hierarchically structured configuration values
- Controls access to the configurations by using role-based access control (RBAC) permissions
- Stores shared values as key/value pairs that can be used by all the apps
 
Which Azure service should you recommend as the configuration management solution?


A12-1: A. Azure Cosmos DB
A12-2: B. Azure App Service
A12-3: C. Azure App Configuration
A12-4: D. Azure Key Vault
A12-5: 

MY ANSWER TO PT02-Q12
--------------------------------------------------------------------------
A12-3: C. Azure App Configuration
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q12
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/36343-exam-az-400-topic-6-question-26-discussion/

Suggested Answer: C 🗳️
The Feature Manager in the Azure portal for App Configuration provides a UI for creating and managing the feature flags that you use in your applications.
App Configuration offers the following benefits:
- A fully managed service that can be set up in minutes
- Flexible key representations and mappings
- Tagging with labels
- Point-in-time replay of settings
- Dedicated UI for feature flag management
- Comparison of two sets of configurations on custom-defined dimensions
- Enhanced security through Azure-managed identities
- Encryption of sensitive information at rest and in transit
- Native integration with popular frameworks

App Configuration complements Azure Key Vault, which is used to store application secrets.

Reference:
https://docs.microsoft.com/en-us/azure/azure-app-configuration/overview

------------------------------------------------------------------------
PT02-Q11:

You manage a project in Azure DevOps. 
You need to prevent the configuration of the project from changing over time.

Solution: Add a code coverage step to the build pipelines. 

Does this meet the goal?

A11-1: A. Yes
A11-2: B. No
A11-3: 
A11-4: 
A11-5: 

MY ANSWER TO PT02-Q11
--------------------------------------------------------------------------
A11-2: B. No
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q11
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/33255-exam-az-400-topic-3-question-20-discussion/
Suggested Answer: B. No
Instead implement Continuous Assurance for the project.
Reference:
https://azsk.azurewebsites.net/04-Continous-Assurance/Readme.html

REFS: PT02-Q08


------------------------------------------------------------------------
PT02-Q10:

You use 
 - Azure Pipelines to manage to build pipelines 
 - GitHub to store source code 
 - Dependabot to manage dependencies. 

You have an app named App1. 
Dependable detects a dependency in App1 that requires an update.

What should you do first to apply the update?

A10-1: A. Create a pull request.
A10-2: B. Approve the pull request.
A10-3: C. Create a branch.
A10-4: D. Perform a commit.
A10-5: 

MY ANSWER TO PT02-Q10
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q10
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/36309-exam-az-400-topic-3-question-19-discussion/

Suggested Answer: B. Approve the pull request. 

DependaBot is a useful tool to regularly check for dependency updates.
By helping to keep your project up to date, DependaBot can reduce technical
debt and immediately apply security vulnerabilities when patches are released.

How does DependaBot work?

1. DependaBot regularly checks dependencies for updates
2. If an update is found, DependaBot creates a new branch with this upgrade
   and ** Pull Request ** for approval
3. You review the new Pull Request, ensure the tests passed, review the code,
  and decide if you can merge the change

Reference:
https://samlearnsazure.blog/2019/12/20/github-using-dependabot/

------------------------------------------------------------------------
PT02-Q09:

Your company uses the following resources:

-1 Windows Server 2019 container images hosted in an Azure Container Registry.
-2 Azure virtual machines that run the latest version of Ubuntu
-3 An Azure Log Analytics workspace
-4 Azure Active Directory (Azure AD)
-5 An Azure key vault

For which two resources can you receive vulnerability assessments in Azure
Security Center?

A09-1: A. the Azure Log Analytics workspace
A09-2: B. the Azure key vault
A09-3: C. the Azure virtual machines that run the latest version of Ubuntu
A09-4: D. Azure Active Directory (Azure AD)
A09-5: E. The Windows Server 2019 container images hosted in the Azure Container Registry.

MY ANSWER TO PT02-Q09
--------------------------------------------------------------------------
C. the Azure virtual machines that run the latest version of Ubuntu
E. The Windows Server 2019 container images hosted in the Azure Container Registry.
On the basis of 
Security Control: Vulnerability Management
https://learn.microsoft.com/en-us/security/benchmark/azure/security-control-vulnerability-management
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q09
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/35778-exam-az-400-topic-3-question-18-discussion/ 
Suggested Answer: BC 
B. the Azure key vault
C. the Azure virtual machines that run the latest version of Ubuntu


REFS
Microsoft cloud security benchmark documentation
https://learn.microsoft.com/en-us/security/benchmark/azure/

Security Control: Vulnerability Management
https://learn.microsoft.com/en-us/security/benchmark/azure/security-control-vulnerability-management

5.1: Run automated vulnerability scanning tools
Follow recommendations from Azure Security Center on performing 
 ** vulnerability assessments ** on your 
  -------------------------------------
  - Azure virtual machines 
  - container images 
  - SQL servers.
 -------------------------------------

Enable vulnerability scanning with the integrated Qualys scanner
https://learn.microsoft.com/en-us/azure/defender-for-cloud/deploy-vulnerability-assessment-vm

------------------------------------------------------------------------
PT02-Q08:

You manage a project in Azure DevOps. 
You need to prevent the configuration of the project from changing over time.

Solution: Perform a Subscription Health scan when packages are created.



A08-1: Yes
A08-2: No
A08-3: 
A08-4: 
A08-5: 

MY ANSWER TO PT02-Q08
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q08
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/52677-exam-az-400-topic-3-question-17-discussion/
Suggested Answer: B No

Instead implement ** Continuous Assurance ** for the project.
Note: 
The Subscription Security health check features in AzSK contains a set of
scripts that examines a subscription and flags off security issues, 
misconfigurations or obsolete artifacts/settings which can put your 
subscription at higher risk.

Reference:
https://azsk.azurewebsites.net/04-Continous-Assurance/Readme.html

Building cloud apps using the Secure DevOps Kit for Azure
https://www.microsoft.com/insidetrack/blog/building-cloud-apps-using-the-secure-devops-kit-for-azure/

It offers tools and best practices for building security into every stage of cloud app development.

MPORTANT: DevOps Kit (AzSK) is being sunset by end of FY21. 
More details here
https://github.com/azsk/DevOpsKit-docs/blob/master/04-Continous-Assurance/Readme.md
help accelerate Microsoft IT's adoption of Azure.

------------------------------------------------------------------------
PT02-Q07:

Your company hosts a web application in Azure. The company uses 
Azure Pipelines for the build and release management of the application.

Stakeholders report that the past few releases have negatively affected 
system performance. 
You configure alerts in Azure Monitor. 

You need to ensure that new releases are only deployed to production if 
the releases meet defined performance baseline criteria in the staging
environment first.

What should you use to prevent the deployment of releases that fall to
meet the performance baseline?

A07-1: A. an Azure Scheduler job
A07-2: B. a trigger
A07-3: C. a gate
A07-4: D. an Azure function
A07-5: 

MY ANSWER TO PT02-Q07
--------------------------------------------------------------------------
A07-3: C. a gate
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q07
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/35525-exam-az-400-topic-3-question-16-discussion/ 
Suggested Answer: C. a gate

Scenarios and use cases for gates include: Quality validation.

Query metrics from tests on the build artifacts such as pass rate or code 
coverage and deploy only if they are within required thresholds.
Use Quality Gates to integrate monitoring into your pre-deployment or post-deployment.
This ensures that you are meeting the key health/performance metrics (KPIs) as 
your applications move from dev to production and any differences in the 
infrastructure environment or scale is not negatively impacting your KPIs.

Note: 
Gates allow automatic collection of health signals from external services,
and then promote the release when all the signals are successful at the same
time or stop the deployment on timeout. 
Typically, gates are used in connection with 
incident management, problem management, change management, monitoring, and
external approval systems.


REFS

Deployment gates
https://learn.microsoft.com/en-us/azure/devops/pipelines/release/approvals/gates?view=azure-devops

AZ-400 DevOps Exam - Udemy
Approval and Gates 
https://www.udemy.com/course/azure100/learn/lecture/33385684#overview
---------------------------------------------------------------------
----------------------------------------------------------------------
Release Pipelines Approvals Example
https://www.udemy.com/course/azure100/learn/lecture/33385702#overview

APPROVALs are manual processes that allow a release to move from stage
to stage of a release pipeline. You set up 
-one or more Approvers User 
-a timeframe for the stage Approval to be signed off by teh Approvers

----------------------------------------------------------------------
> pre-deployment approval : 
approve that the release can be deployed by means of a pipeline stage.
> post-deployment-approval: 
approve that the release has been successfully deployed by means of a 
pipeline stage and can continue to the next stage. 

----------------------------------------------------------------------
Gates with Azure Boards Work Items Query Example
https://www.udemy.com/course/azure100/learn/lecture/33385716#overview

GATEs are AUTOMATED processes that allow a release to move from stage
to stage of a release pipeline. 
For example:
the following can be used as part of the definition of a deployment GATE.
-1 Run saved queries on Azure Boards 
-2 Measure KPIs using Azure Monitor ALERTS on the deployment environment
   infrastructure 
-----------------------------------------
Check Azure Policy Compliance ^^
Invoke Azure Function
Invoke a REST API   
Query Azure Monitor alerts **
Query Work Items
Sonar Cloud Quality Gate Status Check
-----------------------------------------
----------------------------------------------------------------------
Gates with Azure Boards Azure Monitor alerts **
https://www.udemy.com/course/azure100/learn/lecture/33385742#overview 
----------------------------------------------------------------------
Check Azure Policy Compliance ^^
https://www.udemy.com/course/azure100/learn/lecture/33385774#overview
----------------------------------------------------------------------

> predeployment-gate: 
> post-deployment-gate:


---------------------------------------------------------------------




------------------------------------------------------------------------
PT02-Q06: 

You have a build pipeline in Azure Pipelines that occasionally fail. 

You discover that a test measuring the response time of an API endpoint 
causes the failures. 

You need to prevent the build pipeline from failing due to the test.

Which two actions should you perform? 
Each correct answer presents part of the solution.
NOTE: Each correct selection is worth one point.

A06-1: A. Set Flaky test detection to Off.
A06-2: B. Clear Flaky tests included in test pass percentage.
A06-3: C. Enable Test Impact Analysis (TIA).
A06-4: D. Manually mark the test as flaky.
A06-5: E. Enable test slicing.

MY ANSWER TO PT02-Q06
--------------------------------------------------------------------------
A06-2: B. Clear Flaky tests included in test pass percentage.
A06-4: D. Manually mark the test as flaky.
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q06
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/51100-exam-az-400-topic-3-question-15-discussion/
Suggested Answer: BD
B. Clear Flaky tests included in test pass percentage.
D. Manually mark the test as flaky.

REFS
Flaky Tests - AZ-400 DevOps Exam - Udemy
https://www.udemy.com/course/azure100/learn/lecture/33592864#overview

Manage flaky tests
https://learn.microsoft.com/en-us/azure/devops/pipelines/test/flaky-test-management?view=azure-devops

If you want to ensure flaky test failures don't fail your pipeline, 
you can choose to not include them in your test summary and suppress
the test failure.
This option ensures flaky tests (both passed and failed) are removed 
from the pass percentage and shown in Tests not reported, as shown in 
the following screenshot.

Tests marked as flaky
https://learn.microsoft.com/en-us/azure/devops/pipelines/test/flaky-test-management?view=azure-devops#tests-marked-as-flaky

------------------------------------------------------------------------
PT02-Q05: 

You have an Azure DevOps organization named Contoso and an Azure subscription. 

The subscription contains 
 - an Azure virtual machine scale set named VMSS1 
 - and an Azure Standard Load Balancer named LB1. 
 
 LB1 distributes incoming requests across VMSS1 instances. 

You use Azure DevOps to build a web app named App1 and deploy App1 to VMSS1. 

App1 is accessible via HTTPS only and configured to require mutual 
authentication by using a client certificate. 

You need to recommend a solution for 
-------------------------------------
implementing a health check of App1. 
-------------------------------------

The solution must meet the following requirements:

-1 Identify whether individual instances of VMSS1 are eligible for an
   upgrade operation.
-2 Minimize administrative effort.

What should you include in the recommendation?

A05-1: A. an Azure Load Balancer health probe
A05-2: B. Azure Monitor autoscale
A05-3: C. the Custom Script Extension
A05-4: D. the Application Health extension
A05-5: 

MY ANSWER TO PT02-Q05
--------------------------------------------------------------------------
A05-4: D. the Application Health extension
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q05
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------


QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/44703-exam-az-400-topic-3-question-13-discussion/ 
Suggested Answer: D. the Application Health extension


REFS

Azure Load Balancer health probes
https://learn.microsoft.com/en-us/azure/load-balancer/load-balancer-custom-probe-overview

Overview of autoscale in Azure
https://learn.microsoft.com/en-us/azure/azure-monitor/autoscale/autoscale-overview

Using Application Health extension with Virtual Machine Scale Sets
https://learn.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-health-extension?tabs=rest-api


----------------------------------
Azure Load Balancer health probes
https://learn.microsoft.com/en-us/azure/load-balancer/load-balancer-custom-probe-overview
----------------------------------

Azure Load Balancer rules require a health probe to detect the endpoint status. 
Use health probes 
 - to detect the failure of an application. 
 - to generate a custom response to a health probe.
 - for flow control to manage load or planned downtime.

When a health probe fails, the load balancer stops sending new connections to
the respective unhealthy instance.

Probe protocols > Basic SKU: TCP, HTTP > Std SKU: +HTTPS

--------------------
Probe down behavior
--------------------

Scenario 1- Single instance probes down
New TCP connections succeed to remaining healthy backend endpoint.
Established TCP connections to this backend endpoint continue.

Scenario 2- All instances probe down
No new flows are sent to the backend pool. 

 > Standard Load Balancer 
   allows established TCP flows to continue given that a backend pool
   has more than one backend instance. 
 > Basic Load Balancer terminates all existing TCP flows to the backend pool.

------------------
Probe properties
------------------
...

----------------------------------
Azure Load Balancer health probes
Limitations
----------------------------------

-1 HTTPS probes don't support mutual authentication with a client certificate.
-2 A Basic SKU load balancer health probe isn't supported with a virtual machine scale set.
-3 You should assume health probes fail when TCP timestamps are enabled.
-4 HTTP probes don't support probing on the following ports due to 
   security concerns: 19, 21, 25, 70, 110, 119, 143, 220, 993.

Note:

Limitation-1 
HTTPS probes don't support mutual authentication with a client certificate.

rules out that Azure Load Balancer health probes can be used in this scenario 
because of the requirement.
-------------------------------------------------------------------------------------------
App1 is accessible via HTTPS only and configured to require mutual mutual authentication 
by using a client certificate ( << this is imprtant!)
--------------------------------------------------------------------------------------------


Using Application Health extension with Virtual Machine Scale Sets
https://learn.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-health-extension?tabs=rest-api
-------------------------------------------------------------------
Monitoring your application health for managing and upgrading your deployment. 
Azure Virtual Machine Scale Sets provide support for 
 - Rolling Upgrades 
 - including Automatic OS-Image Upgrades 
- Automatic VM Guest Patching,
  which rely on health monitoring of the individual instances to upgrade
  your deployment. 
  
You can also use Application Health Extension to monitor the application health
of each instance in your scale set and 
- perform instance repairs using Automatic Instance Repairs.

two types of Application Health extension
 - Binary Health States 
 - Rich Health States

---------------------------------------------
When to use the Application Health extension
---------------------------------------------
The extension probes on a local application endpoint and will update the health
status based on TCP/HTTP(S) responses received from the application.
This health status is used by Azure to initiate repairs on unhealthy instances
and to determine if an instance is eligible for upgrade operations. 

The extension reports health 
********************************************************************* 
from within a VM and can be used in situations where an external 
probe such as the Azure Load Balancer health probes can’t be used.
*********************************************************************

Note:

This last statement confirms that Application Health extension can be used 
with teh VMs of the scale set VMSS1 in this scanario in place of the  
Azure Load Balancer health probe which cannot be used in this case due to
the requirement of the HTTPS mutual authentication by using a client 
certificate which is not a supported scenario of the Azure Load Balancer 
health probe.


------------------------------------------------------------------------
PT02-Q04: 

You are building an ** ASP.NET Core ** application. 
You plan to create an application utilization baseline by capturing 
telemetry data.
You need to add code to the application to capture the telemetry data. 


------------------------------------------------------------------
The solution must minimize the costs of storing the telemetry data.
------------------------------------------------------------------

Which two actions should you perform?

A04-1: A. Add the <InitialSamplingPercentage>99</InitialSamplingPercentage> parameter to the ApplicationInsights.config file.
A04-2: B. From the code of the application, enable adaptive sampling.
A04-3: C. From the code of the application, add Azure Application Insights telemetry.
A04-4: D. Add the <MaxTelemetryItemsPerSecond>5</MaxTelemetryItemsPerSecond> parameter to the ApplicationInsights.config file.
A04-5: E. From the code of the application, disable adaptive sampling.

MY ANSWER TO PT02-Q04
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q04
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/44154-exam-az-400-topic-3-question-12-discussion/

Suggested Answer: BD
B. From the code of the application, enable adaptive sampling.
D. Add the <MaxTelemetryItemsPerSecond>5</MaxTelemetryItemsPerSecond> parameter to the ApplicationInsights.config file.

Most Voted Answer: CE 
C. From the code of the application, add Azure Application Insights telemetry.
E. From the code of the application, disable adaptive sampling. 

Comments:

----------------------------------------
saponazureguy 2 years, 6 months ago
----------------------------------------
C. From the code of the application, add Azure Application Insights telemetry.
E. From the code of the application, disable adaptive sampling. 
Correct! 
The keywords here are "ASP.NET core application". 
There is no ApplicationInsights.config file in ASP.NET Core applications 
( it exists only in ASP.NET) and any setting needs to be done through code itself.

----------------------------------------
fflyin2k 2 years, 3 months ago
----------------------------------------
E is "disable adaptive sampling". it does no make sense. 
the question mentioned "minimize cost of storing the telemetry data", so adaptive 
sampling should not be disabled. And, in ASP.NET Core, adaptive sampling is enabled
by default.
>>
----------------------------------------
 yana_b 2 weeks, 4 days ago
----------------------------------------
Although it (i.e. ingestion sampling) doesn't reduce the telemetry traffic sent from 
your app, it does reduce the amount processed and retained (and charged for) by 
Application Insights. 
Set the sampling rate in the Usage and estimated costs page.
Default setting is adaptive sampling, but in order to set ingestion sampling, you have
to disable the adaptive sampling and set the sampling rate in the Usage and estimated 
costs page:

REFS
Sampling in Application Insights
https://learn.microsoft.com/en-us/azure/azure-monitor/app/sampling

It's the recommended way 
 - to reduce telemetry traffic
 - to reduce data costs and storage costs
   while preserving a statistically correct analysis of application data. 
 - avoid Application Insights throttling your telemetry

The sampling filter selects items that are related, so that you can 
navigate between items when you're doing diagnostic investigations.
When metric counts are presented in the portal, they're renormalized to
take into account sampling. Doing so minimizes any effect on the statistics.

There are three different types of sampling: 
 - adaptive sampling : enabled by default in all recent SDKs
 - fixed-rate sampling 
 - ingestion sampling : It doesn't reduce telemetry traffic sent from your app, 
   but helps you keep within your monthly quota.
   The main advantage of ingestion sampling is that you can set the sampling
   rate without redeploying your app. 


When to use sampling?
In general, for most small and medium size applications you don't need sampling.

 - Application Insights service drops ("throttles") data points when 
   your app sends a high rate of telemetry in a short time interval. 
   Sampling reduces the likelihood that your application sees throttling occur.
 - To keep within the quota of data points for your pricing tier.
 - To reduce network traffic from the collection of telemetry.

-----------------
Adaptive sampling
-----------------
Adaptive sampling is enabled by default when you use the 
ASP.NET SDK or the 
ASP.NET Core SDK, 
and is also enabled by default for Azure Functions.

The volume is adjusted automatically to keep within a specified maximum 
rate of traffic, and is controlled via the setting 
-----------------------------
MaxTelemetryItemsPerSecond. 
-----------------------------

----------------------
Fixed-rate sampling
----------------------
Fixed-rate sampling reduces the traffic sent from your web server and web browsers. 
Unlike adaptive sampling, it reduces telemetry at a fixed rate decided by you. 
Fixed-rate sampling is available for ASP.NET, ASP.NET Core, Java and Python applications.

------------------------------------------------------------------
Configuring fixed-rate sampling for ASP.NET Core applications
------------------------------------------------------------------
1. Disable adaptive sampling

Changes can be made after the WebApplication.CreateBuilder() method, 
using ApplicationInsightsServiceOptions:

```
var builder = WebApplication.CreateBuilder(args);
var aiOptions = new Microsoft.ApplicationInsights.AspNetCore.Extensions.ApplicationInsightsServiceOptions();
aiOptions.EnableAdaptiveSampling = false; // Disable !
builder.Services.AddApplicationInsightsTelemetry(aiOptions);
var app = builder.Build();
```

2. Enable the fixed-rate sampling module

Changes can be made after the WebApplication.CreateBuilder() method:

```
var builder = WebApplication.CreateBuilder(args);

builder.Services.Configure<TelemetryConfiguration>(telemetryConfiguration =>
{
    var builder = telemetryConfiguration.DefaultTelemetrySink.TelemetryProcessorChainBuilder;

    // Using fixed rate sampling
    double fixedSamplingPercentage = 10;
    builder.UseSampling(fixedSamplingPercentage);
});

builder.Services.AddApplicationInsightsTelemetry(new ApplicationInsightsServiceOptions
{
    EnableAdaptiveSampling = false,
});

var app = builder.Build(); 
```

------------------------------------------------------------------
Configuring fixed-rate sampling for ASP.NET applications
------------------------------------------------------------------

1. Disable adaptive sampling: In ApplicationInsights.config, remove
   or comment out the AdaptiveSamplingTelemetryProcessor node.

<TelemetryProcessors>
    <!-- Disabled adaptive sampling:
    <Add Type="Microsoft.ApplicationInsights.WindowsServer.TelemetryChannel.AdaptiveSamplingTelemetryProcessor, Microsoft.AI.ServerTelemetryChannel">
        <MaxTelemetryItemsPerSecond>5</MaxTelemetryItemsPerSecond>
    </Add>
    -->

2. Enable the fixed-rate sampling module. Add this snippet to ApplicationInsights.config:
<TelemetryProcessors>
    <Add Type="Microsoft.ApplicationInsights.WindowsServer.TelemetryChannel.SamplingTelemetryProcessor, Microsoft.AI.ServerTelemetryChannel">
        <!-- Set a percentage close to 100/N where N is an integer. -->
        <!-- E.g. 50 (=100/2), 33.33 (=100/3), 25 (=100/4), 20, 1 (=100/100), 0.1 (=100/1000) -->
        <SamplingPercentage>10</SamplingPercentage>
    </Add>
</TelemetryProcessors>

------------------------------------------------------------------------
PT02-Q03: 

You are automating the testing process for your company. 
You need to automate UI testing of a web application. 

Which framework should you use?

A03-1: A. JaCoco
A03-2: B. Selenium | B. Playwright
A03-3: C. Xamarin.UITest
A03-4: D. Microsoft.CodeAnalysis

MY ANSWER TO PT02-Q03
--------------------------------------------------------------------------
A03-2: B. Selenium | B. Playwright
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q03
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/20531-exam-az-400-topic-3-question-11-discussion/
https://www.examtopics.com/discussions/microsoft/view/111507-exam-az-400-topic-9-question-7-discussion/

REFS

SELENIUM
https://docs.microsoft.com/en-us/azure/devops/pipelines/test/continuous-test-selenium?view=azure-devops

Use Playwright to automate and test in Microsoft Edge
https://learn.microsoft.com/en-us/microsoft-edge/playwright/

The Playwright library provides cross-browser automation through a single API.
with a single API. Playwright is built to enable cross-browser web automation
that is evergreen, capable, reliable, and fast. Because Microsoft Edge is built
 on the open-source Chromium web platform, Playwright is also able to automate
 Microsoft Edge.

Playwright launches headless browsers by default. 
Headless browsers don't display a UI, so instead you must use the command line.
You can also configure Playwright to run full (non-headless) Microsoft Edge 
as well.


------------------------------------------------------------------------
PT02-Q02: 

You have an Azure subscription that contains resources 
in several resource groups.

You need to ** design a monitoring strategy ** that will provide a 
** consolidated view. **

The solution must support the following requirements:

-1 
Support role-based access control (RBAC) by using 
Azure Active Directory (Azure AD) identifies.
-2
Include visuals from Azure Monitor that are generated by 
using the Kusto query language.
-3
Support documentation written in markdown.
-4
Use the latest data available for each visual.

What should you use to create the consolidated view?

A02-1: A. Azure Monitor
A02-2: B. Microsoft Power BI
A02-3: C. Azure Data Explorer
A02-4: D. Azure dashboards

MY ANSWER TO PT02-Q02
--------------------------------------------------------------------------
A02-4: D. Azure dashboards
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q02
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/44298-exam-az-400-topic-3-question-10-discussion/


Suggested Answer: C. Azure Data Explorer

There are several tools available for running queries in Azure Data Explorer,
including Kusto.
Kusto uses a role-based access control (RBAC) model, under which authenticated
principals are mapped to roles, and get access according to the roles they're
assigned.
Note: Azure Data Explorer is a highly scalable and secure analytics service
that enables you to do rich exploration of structured and unstructured data
for instant insights. 
Optimized for ad-hoc queries, Azure Data Explorer enables rich data exploration
over raw, structured, and semi-structured data delivering fast time to insight.
Query with a modern, intuitive query language that offers fast, ad-hoc, and 
advanced query capabilities over high-rate data volumes and varieties
Reference:
https://docs.microsoft.com/en-us/azure/data-explorer/tools-integrations-overview

------------------------------------------------------------------------
PT02-Q01: 

You have an Azure DevOps organization named Contoso and an Azure subscription.

The subscription contains an Azure virtual machine scale set named VMSS1 
that is configured for autoscaling.

You use Azure DevOps to build a web app named App1 and deploy App1 to VMSS1.
App1 is used heavily and has usage patterns that vary on a weekly basis.

You need to recommend a solution to detect an abnormal rise in the rate of
failed requests to App1. 

The solution must minimize administrative effort.
What should you include in the recommendation?

A01-1: A. the Smart Detection feature in Azure Application Insights
A01-2: B. the Failures feature in Azure Application Insights
A01-3: C. an Azure Service Health alert
A01-4: D. an Azure Monitor alert that uses an Azure Log Analytics query

MY ANSWER TO PT02-Q01
--------------------------------------------------------------------------
A. the Smart Detection feature in Azure Application Insights
--------------------------------------------------------------------------

CORRECT ANSWER TO PT02-Q01
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

QUESTION POSTS
https://www.examtopics.com/discussions/microsoft/view/36102-exam-az-400-topic-3-question-8-discussion/
https://www.examtopics.com/discussions/microsoft/view/76270-exam-az-400-topic-3-question-28-discussion/

Suggested Answer: A. the Smart Detection feature in Azure Application Insights

REFS

Smart detection in Application Insights
https://learn.microsoft.com/en-us/azure/azure-monitor/alerts/proactive-diagnostics

2)
Smart detection **automatically warns** you of potential 
performance problems and failure anomalies in your web application. 
It performs proactive analysis of the telemetry that your app sends to 
Application Insights. If there's a sudden rise in failure rates or abnormal patterns
in client or server performance, you get an alert. 
-------------------------------------
This feature needs no configuration. 
-------------------------------------
It operates if your application sends enough telemetry.

-------------------------------------
Smart detection email notifications
-------------------------------------

All smart detection rules, except for rules marked as preview, are configured 
by default to send email notifications when detections are found.
You can configure email notifications for a specific smart detection rule. 
On the smart detection Settings pane, select the rule to open the Edit rule pane.

Alternatively, you can change the configuration by using 
Azure Resource Manager templates. 
For more information, see Manage Application Insights smart detection rules
by using Azure Resource Manager templates.

1)
Diagnose exceptions in web apps with Application Insights
Diagnose failures using the Azure portal
https://learn.microsoft.com/en-us/azure/azure-monitor/app/asp-net-exceptions