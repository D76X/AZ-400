----------------------------------------------------------------
AZ-400 Microsoft DevOps Engineer REAL Exam Dumps : Part-1
https://www.youtube.com/watch?v=eHlPZipHQco&list=PLyABYqulvUwYlrqboc1FgrLM4lN-8OAd7

----------------------------------------------------------------

-------------------------------------------------------------------------
PT99-Q0X: 
question text..
Which of the following is the option you would choose?

MY ANSWER TO PT99-Q0X
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

CORRECT ANSWER TO PT99-Q0X
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

REFS:

-------------------------------------------------------------------------
PT99-Q04: 

Arrange the actions in teh correct order if you need to associate an automatedtest
to a test case in an Azure DevOps Project.

In which sequance shouuld you run the following three commands?

 - Add automated test to pipeline
 - Check in the project onto DevRepo
 - Create a test Project


MY ANSWER TO PT99-Q04
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

CORRECT ANSWER TO PT99-Q04
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

REFS:

-------------------------------------------------------------------------
PT99-Q03: 

A Company has a ** Azure Resource Group deployment Project in Visual Studio **
which is checked in to Azure DevOps project.

As a DevOps Engineer, you need to create a release pipeline which will deploy
resources using ARM templates.

Which task type should you include which can minimize the administrative
effort for the solution?

Select TWO correct answwers.

-Azure Sentinel
-Use Azure PowerShell 
-Add multiple DevOps services build steps, each one performing a stage task
-Use Azure Firewall


MY ANSWER TO PT99-Q03
--------------------------------------------------------------------------
-Use Azure PowerShell 
-Add multiple DevOps services build steps, each one performing a stage task
--------------------------------------------------------------------------

CORRECT ANSWER TO PT99-Q03
--------------------------------------------------------------------------
?
--------------------------------------------------------------------------

REFS:

Integrate ARM templates with Azure Pipelines
https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/add-template-to-azure-pipelines

consider the different options for deploying an ARM template from a pipeline.

-------------------------------------
-1 Use ARM template deployment task.
-------------------------------------
This option is the easiest option.
This approach works when you want to deploy a template directly from a repository.
----------------------------------------------------------------------
Tutorial: Continuous integration of ARM templates with Azure Pipelines
https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/deployment-tutorial-pipeline
It shows how to use the ARM template deployment task to deploy a template from your GitHub repo.
----------------------------------------------------------------------

-------------------------------------
-2 Add task that runs an Azure PowerShell script.
-------------------------------------
This option has the advantage of providing consistency throughout the development life cycle.
This is because you can use the same script that you used when running local tests. 
Your script deploys the template but can also perform other operations such as getting values to use as parameters.

--------------------------------------------
Integrate ARM templates with Azure Pipelines - Powershell Task
https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/add-template-to-azure-pipelines#azure-powershell-task

azure-quickstart-templates/Deploy-AzTemplate.ps1
https://github.com/Azure/azure-quickstart-templates/blob/master/Deploy-AzTemplate.ps1

azure-quickstart-templates/Deploy-AzureResourceGroup.ps1
https://github.com/Azure/azure-quickstart-templates/blob/master/Deploy-AzureResourceGroup.ps1
--------------------------------------------

-------------------------------------------------------------
** Visual Studio provides the Azure Resource Group project **
-------------------------------------------------------------
This includes a PowerShell script.
The script stages artifacts from your project to a storage account that Resource Manager can access. 
Artifacts are items in your project such as linked templates, scripts, and application binaries.

-------------------------------------
-3 Add tasks to copy and deploy tasks. 
-------------------------------------
This option offers a convenient alternative to the project script.
You configure two tasks in the pipeline.
One task stages the artifacts to an accessible location. 
The other task deploys the template from that location.

--------------------------------------------
Integrate ARM templates with Azure Pipelines - Copy and deploy tasks
https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/add-template-to-azure-pipelines#copy-and-deploy-tasks

------------------
Part-1: The Copy File Task
------------------
Copy the Artefacts to the SA.
AzureFileCopy@4 - Azure file copy v4 task
https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/reference/azure-file-copy-v4?view=azure-pipelines

------------------
Part-2: The task to deploy the staged template.
------------------
Azure Resource Manager (ARM) Template Deployment Task
https://github.com/microsoft/azure-pipelines-tasks/blob/master/Tasks/AzureResourceManagerTemplateDeploymentV3/README.md

This task is used to deploy Azure Resource Manager templates at 
 - resource group deployment scope
 - subscription deployment scope 
 - management group deployment scopes. 
 
The task is also used to create or update a resource group in Azure.

------------------
Deployment scope
https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/deploy-rest#deployment-scope
------------------

You can target your deployment to a 
 - a resource group 
 - a Azure subscription 
 - a management group 
 - a tenant
 - multiple RGs 
 
 Depending on the scope of the deployment, you use different commands.

-----------------------------------------------
Resource group deployments with ARM templates
https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/deploy-to-resource-group?tabs=azure-cli
-----------------------------------------------
This article describes how to scope your deployment to a resource group.
The article also shows how to expand the scope beyond the resource group in the deployment operation.

Azure CLI
```
az deployment group create \
  --name demoRGDeployment \
  --resource-group ExampleGroup \
  --template-uri "https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/quickstarts/microsoft.storage/storage-account-create/azuredeploy.json" \
  --parameters storageAccountType=Standard_GRS
```

Powershell
```
New-AzResourceGroupDeployment `
  -Name demoRGDeployment `
  -ResourceGroupName ExampleGroup `
  -TemplateUri https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/quickstarts/microsoft.storage/storage-account-create/azuredeploy.json `
  -storageAccountType Standard_GRS
```

When deploying to a resource group, you can deploy resources to:

 - the target resource group from the operation
   https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/deploy-to-resource-group?tabs=azure-powershell#deploy-to-target-resource-group
   Deploy to target resource group.
   To deploy resources in the target resource group, define those resources in the resources section of the template. 

 - other resource groups in the same subscription ** or other subscriptions **
   
   https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/deploy-to-resource-group?tabs=azure-powershell#scope-to-resource-group-in-same-subscription
   Scope to resource group in same subscription
   To deploy resources to a different resource group in the same subscription.
   Add a nested deployment and include the resourceGroup property. 

   https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/deploy-to-resource-group?tabs=azure-powershell#scope-to-resource-group-in-different-subscription
   Scope to resource group in different subscription
   To deploy resources to a resource group in a different subscription.
   Add a nested deployment and include the subscriptionId and resourceGroup properties

 - any subscription in the tenant
   Scope to subscription
   https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/deploy-to-resource-group?tabs=azure-powershell#scope-to-subscription
   To deploy resources to a subscription, add a nested deployment and include the subscriptionId property. 

 - the tenant for the resource group
   Scope to tenant
   https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/deploy-to-resource-group?tabs=azure-powershell#scope-to-tenant
   To create resources at the tenant, set the scope to /. 
   Or, you can set the scope to / for some resource types, like management groups.
   The user deploying the template must have the required access to deploy at the tenant.

 - Deploy to multiple resource groups
   Target a resource group that is different than the one for parent template
   https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/deploy-to-resource-group?tabs=azure-powershell#deploy-to-multiple-resource-groups 
   You can deploy to more than one resource group in a single ARM template. 
   Use a nested or linked template.
   Within the deployment resource type, specify values for the subscription ID and resource group that you want the nested template to deploy to.
   You can deploy to 800 resource groups in a single deployment. 

** In all cases the user deploying the template must have access to the specified scope.

--------------------------------------------

To copy files to a storage account, the service principal for the service connection 
must be assigned either the following roles:

 - Storage Blob Data Contributor 
 - Storage Blob Data Owner


-------------------------------------------------------------------------
PT99-Q02: 

Arrange the actions in the correct order if you need to configure Helm and  
Tiller on the Azure Kubernetes Services (AKS) cluster which has RBAC enabled
and install the chart.

What is the correct sequence of the three commands below?

helm init
kubectl create
helm install


MY ANSWER TO PT99-Q02
--------------------------------------------------------------------------
(By ChatGPT)
heml init       << Initialize Helm and install Tiller on the AKS cluster
kubectl create  << Set up RBAC permissions for Tiller on the AKS cluster
helm install    << install the Helm chart on your AKS cluster
--------------------------------------------------------------------------

CORRECT ANSWER TO PT99-Q02
--------------------------------------------------------------------------
The author of the Video maintyains tha the correct sequnce is:

kubectl create
helm init
helm install
--------------------------------------------------------------------------

refs:

--------------
Install existing applications with Helm in Azure Kubernetes Service (AKS)
https://learn.microsoft.com/en-us/azure/aks/kubernetes-helm
--------------

Helm is an open-source packaging tool that helps you install and manage 
the lifecycle of Kubernetes applications. Similar to Linux package managers, 
such as APT and Yum, you can use Helm to manage Kubernetes charts, which are
packages of preconfigured Kubernetes resources.

This article shows you how to configure and use Helm in a Kubernetes cluster
on Azure Kubernetes Service (AKS).

--------------
Quickstart: Develop on Azure Kubernetes Service (AKS) with Helm
https://learn.microsoft.com/en-us/azure/aks/quickstart-helm?tabs=azure-cli
--------------

------------
ChatGPT
------------

To configure Helm and Tiller on an Azure Kubernetes Service (AKS) cluster
with RBAC enabled and then install a Helm chart, you should follow these 
steps in the correct order:

Initialize Helm and install Tiller on the AKS cluster: 
(This command initializes Helm on your local system and installs Tiller in the AKS cluster.)

> heml init

Set up RBAC permissions for Tiller on the AKS cluster:

```
kubectl create serviceaccount --namespace kube-system tiller
kubectl create clusterrolebinding tiller-cluster-rule --clusterrole=cluster-admin --serviceaccount=kube-system:tiller
kubectl patch deploy --namespace kube-system tiller-deploy -p '{"spec":{"template":{"spec":{"serviceAccount":"tiller"}}}}'
```

These commands 
-1 create a service account for Tiller
-2 grant it cluster-admin privileges 
-3 patch the Tiller deployment to use the new service account.

Finally, you can use helm install to install the Helm chart on your AKS cluster.
Make sure you provide the appropriate chart name and values file if needed:

helm install <RELEASE_NAME> <CHART_NAME> [flags]

Therefore the correct sequence is:

heml init
kubectl create
helm install

-------------------------------------------------------------------------
PT99-Q01: 

A company has an ongoing issue for its code quality.
The code quality deteriorates because of the time constraints during 
developemnt of the code.
As a DevOp Engineer you need implement static code analysis.

During which phase should you implement static code analysis?

A01-1: Build
A01-2: Production Release
A01-3: Integration Testing
A01-4: Staging

MY ANSWER TO PT99-Q01
--------------------------------------------------------------------------
A01-1: Build
--------------------------------------------------------------------------

CORRECT ANSWER TO PT99-Q01
--------------------------------------------------------------------------
A01-1: Build
--------------------------------------------------------------------------

refs:

Microsoft Security Development Lifecycle (SDL)
https://learn.microsoft.com/en-us/compliance/assurance/assurance-microsoft-security-development-lifecycle

Various automated checks are also required and are built into the commit pipeline
to analyze code during check-in and when builds are compiled. 

The security checks used at Microsoft fall into the following categories:

**
1-Static code analysis: 
Analyzes source code for potential security flaws, including the presence of credentials in code.

Other Security Checks.

2-Binary analysis: 
Assesses vulnerabilities at the binary code level to confirm code is production ready.

3-Credential and secret scanner: 
Identify possible instances of credential and secret exposure in source code and configuration files.

4-Encryption scanning: 
Validates encryption best practices in source code and code execution.

5-Fuzz testing: 
Use malformed and unexpected data to exercise APIs and parsers to check for vulnerabilities and validate error handling.

6-Configuration validation: 
Analyzes the configuration of production systems against security standards and best practices.

7-Component Governance (CG): 
Open-source software detection and checking of version, vulnerability, and legal obligations.

--------------------------------------------------------------------------